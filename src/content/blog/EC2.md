---
title: '첫 번째 자동 포스트'
pubDate: 2024-09-24
description: '옵시디언에서 자동으로 연동되는 테스트'
author: 'KT'
tags: ['test', 'obsidian']
---
## AWS EC2 인스턴스 생성하기

### 1. 애플리케이션 및 OS 이미지(AMI)
AMI는 EC2를 만들 때 사용하는 템플릿이다. AMI안에는 다음과 같은 내용이 포함된다.
- 운영체제(OS)
- 기본 패키지 및 설정
- 보안 업데이트
어떤 OS + 기본 설정으로 서버를 시작할 것인지 결정하는 옵션이다. Ubuntu, Linux, Mac뿐만 아니라 TensorFlow, PyTorch, CUDA 같은 딥러닝 AMI도 프리티어로 존재한다.


### 2. 인스턴스 유형
EC2 인스턴스 유형은 CPU, 메모리, 스토리지, 네트워크 성능, GPU가 어떻게 구성 될지 결정하는 "서버 사양 패키지"이다.
- t2.micro -> CPU 1개 + 메모리 1GB
- c6g.large -> CPU 2개 + 메모리 4GB
- g5.xlarge -> GPU 포함

###### AWS 인스턴스 패밀리
앞에 붙은 t,c,g 같은 알파벳들을 인스턴스 패밀리라고한다.
- t, m : 범용
- c : CPU 고성능
- r : 메모리 최적화
- i, d : 스토리지 최적화
- g, p : GPU 포함

###### 인스턴스 크기
.뒤는 인스턴스의 크기를 나타낸다.
- micro :  vCPU 1개, 1GB
- small : vCPU 1개 , 2GB
- medium : vCPU 2개, 4GB
- large : vCPU 2개, 8GB



### 3. 키 페어(로그인)
##### SSH
Secure Shell의 줄임말로, 네트워크 상에서 원격 컴퓨터에 안전하게 접속하고 명령을 실행하거나 파일을 복사할 수 있게 해주는 프로토콜입니다. SSH를 사용하면 다음과 같은 작업들을 할 수 있습니다.
- 서버 내부 파일 수정
- 패키지 설치
- Docker 실행
- FastAPI 실행
- 로그 확인

AWS EC2는 기본적으로 SSH를 이용한 접속만 허용하고, 보안을 위해 비밀번호 방식은 막혀있습니다. 키 페어 기반 인증을 사용해야 합니다.

##### 키 페어
키 페어는 EC2 내부에 Public Key(공개키)를 저장하고 본인이 Private Key(개인키)를 가지고 있다가 두 키가 매칭될 때 접속을 허용하는 방식이다. Private Key가 없으면 EC2에 접속할 수 없다. 잃어버리면 재발급하거나 인스턴스를 다시 만들어야 한다.

##### RSA vs ED25519
두 가지 모두 공개키 암호 방식으로, SSH TLS, Git, GPG 인증키에서 사용되는 알고리즘이다.
1. RSA : RSA는 소인수 분해를 기반으로 둔 알고리즘으로 호환성이 좋아 많은 서비스에서 "기본값"으로 많이 채택한다.
2. ED25519 : 타원곡선 암호(ECC)의 한 종류로 RSA와 같은 수준의 보안을 훨씬 짧은 키로 제공한다.
##### .pem vs .ppk
파일 형식은 어떤 프로그램에서 키를 사용할지에 따라 다르다.
1. `.pem` : Mac, Linux, GitBash, VSCode Remote 등에서 사용하고 OpenSSH 기반으로 보편적이고 호환성이 좋아 대부분의 개발환경에서 사용된다.
2. `.ppk` : Windows 용 PuTTY 프로그램 전용 포멧이다. 